<ion-content>
  <!-- Animated Background -->
  <div class="animated-background">
    <div class="floating-elements">
      <div class="floating-icon floating-1">
        <ion-icon name="mail-outline"></ion-icon>
      </div>
      <div class="floating-icon floating-2">
        <ion-icon name="key-outline"></ion-icon>
      </div>
      <div class="floating-icon floating-3">
        <ion-icon name="shield-checkmark-outline"></ion-icon>
      </div>
      <div class="floating-icon floating-4">
        <ion-icon name="heart-outline"></ion-icon>
      </div>
    </div>
  </div>

  <div class="container">
    <!-- Header Section -->
    <div class="header-section">
      <div class="icon-container">
        <ion-icon name="lock-open" class="main-icon"></ion-icon>
        <div class="icon-pulse"></div>
      </div>
      <h1 class="main-title">¿Olvidaste tu contraseña?</h1>
      <p class="main-subtitle">No te preocupes, te ayudamos a recuperarla</p>
    </div>

    <!-- Reset Card -->
    <div class="reset-card">
      <div class="card-content">
        <div class="info-section">
          <ion-icon name="information-circle" class="info-icon"></ion-icon>
          <p class="info-text">
            Ingresa tu correo electrónico y te enviaremos un enlace para restablecer tu contraseña
          </p>
        </div>

        <form (ngSubmit)="onSubmit()" class="reset-form">
          <!-- Email Input -->
          <div class="input-group">
            <div class="input-container" [class.error]="email && !isValidEmail(email)">
              <ion-icon name="mail" class="input-icon"></ion-icon>
              <ion-input type="email" [(ngModel)]="email" name="email" placeholder="tu-email@ejemplo.com" required
                [clearInput]="true" class="modern-input" aria-label="Correo Electrónico">
              </ion-input>
              <div class="input-focus-line"></div>
            </div>

            <!-- Error Message -->
            <div class="error-message" *ngIf="email && !isValidEmail(email)">
              <ion-icon name="warning"></ion-icon>
              <span>Por favor, introduce un correo electrónico válido</span>
            </div>
          </div>

          <!-- Submit Button -->
          <ion-button expand="block" type="submit" class="reset-button" [disabled]="loading || !isValidEmail(email)">
            <ion-spinner *ngIf="loading" name="crescent" class="button-spinner"></ion-spinner>
            <span *ngIf="!loading" class="button-content">
              <ion-icon name="paper-plane" class="button-icon"></ion-icon>
              Enviar enlace de recuperación
            </span>
          </ion-button>
        </form>

        <!-- Additional Info -->
        <div class="additional-info">
          <div class="info-item">
            <ion-icon name="time" class="small-icon"></ion-icon>
            <span>El enlace expira en 15 minutos</span>
          </div>
          <div class="info-item">
            <ion-icon name="checkmark-circle" class="small-icon"></ion-icon>
            <span>Revisa también tu carpeta de spam</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Links -->
    <div class="action-section">
      <div class="back-to-login">
        <ion-icon name="arrow-back-circle" class="back-icon"></ion-icon>
        <a routerLink="/auth/login" class="back-link">
          Volver al inicio de sesión
        </a>
      </div>

      <div class="help-section">
        <p class="help-text">¿Necesitas más ayuda?</p>
        <a href="mailto:soporte@patitasencasa.com" class="contact-link">
          <ion-icon name="headset"></ion-icon>
          Contactar soporte
        </a>
      </div>
    </div>

    <!-- Success Animation (Hidden by default) -->
    <div class="success-animation" [class.show]="emailSent">
      <div class="success-content">
        <ion-icon name="checkmark-circle" class="success-icon"></ion-icon>
        <h3>¡Enlace enviado!</h3>
        <p>Revisa tu correo electrónico</p>
      </div>
    </div>
  </div>
</ion-content>