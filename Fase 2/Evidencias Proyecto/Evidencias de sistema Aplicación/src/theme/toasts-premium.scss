/**
 * TOASTS PREMIUM - MEJORAS VISUALES 2024
 * Estilos avanzados para toasts con glassmorphism, efectos de brillo y animaciones modernas
 */

/* ================================================= */
/* TOASTS PREMIUM CON GLASSMORPHISM */
/* ================================================= */

ion-toast {

    // TOAST PREMIUM CON GLASSMORPHISM MEJORADO
    &.toast-premium {
        --border-radius: 20px;
        --box-shadow:
            0 8px 32px rgba(0, 0, 0, 0.15),
            0 2px 8px rgba(0, 0, 0, 0.1),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);

        &::part(container) {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;

            &::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 1px;
                background: linear-gradient(90deg,
                        transparent,
                        rgba(255, 255, 255, 0.8),
                        transparent);
            }
        }

        &::part(icon) {
            filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3));
            animation: toastIconFloat 2s ease-in-out infinite;
        }
    }

    // SUCCESS MEJORADO CON BRILLO
    &.toast-success-enhanced {
        --background: linear-gradient(135deg,
                rgba(76, 175, 80, 0.95) 0%,
                rgba(67, 160, 71, 0.95) 100%);
        --box-shadow:
            0 8px 24px rgba(76, 175, 80, 0.3),
            0 0 40px rgba(76, 175, 80, 0.2);
        border-left: 4px solid #2E7D32;
        position: relative;
        overflow: hidden;

        &::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 20% 50%,
                    rgba(255, 255, 255, 0.3) 0%,
                    transparent 50%);
            pointer-events: none;
            animation: shimmerMove 3s ease-in-out infinite;
        }

        &::part(icon) {
            filter: drop-shadow(0 0 10px rgba(76, 175, 80, 0.8));
            animation: successPulse 1.5s ease-in-out infinite;
        }

        &::part(container) {
            backdrop-filter: blur(10px);
        }
    }

    // WARNING MEJORADO CON PULSO
    &.toast-warning-enhanced {
        --background: linear-gradient(135deg,
                rgba(255, 152, 0, 0.95) 0%,
                rgba(251, 140, 0, 0.95) 100%);
        --box-shadow:
            0 8px 24px rgba(255, 152, 0, 0.3),
            0 0 40px rgba(255, 152, 0, 0.2);
        border-left: 4px solid #E65100;

        &::part(icon) {
            animation: warningPulse 1s ease-in-out infinite;
        }

        &::after {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: inherit;
            background: linear-gradient(45deg, transparent, rgba(255, 152, 0, 0.3), transparent);
            animation: borderRotate 3s linear infinite;
            pointer-events: none;
        }
    }

    // DANGER MEJORADO CON SHAKE
    &.toast-danger-enhanced {
        --background: linear-gradient(135deg,
                rgba(244, 67, 54, 0.95) 0%,
                rgba(229, 57, 53, 0.95) 100%);
        --box-shadow:
            0 8px 24px rgba(244, 67, 54, 0.3),
            0 0 40px rgba(244, 67, 54, 0.2);
        border-left: 4px solid #C62828;
        animation: dangerShake 0.5s ease-in-out;

        &::part(icon) {
            animation: dangerIntensePulse 0.8s ease-in-out infinite;
        }

        &::before {
            content: '';
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(45deg,
                    transparent,
                    transparent 10px,
                    rgba(255, 255, 255, 0.05) 10px,
                    rgba(255, 255, 255, 0.05) 20px);
            pointer-events: none;
        }
    }

    // INFO MEJORADO
    &.toast-info-enhanced {
        --background: linear-gradient(135deg,
                rgba(33, 150, 243, 0.95) 0%,
                rgba(25, 118, 210, 0.95) 100%);
        --box-shadow:
            0 8px 24px rgba(33, 150, 243, 0.3),
            0 0 40px rgba(33, 150, 243, 0.2);
        border-left: 4px solid #0D47A1;

        &::part(icon) {
            animation: infoBounce 2s ease-in-out infinite;
        }
    }

    // TOAST CON PARTÍCULAS
    &.toast-with-particles {
        position: relative;
        overflow: visible !important;

        &::after {
            content: '✨';
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 24px;
            animation: particleFloat 2s ease-out infinite;
            pointer-events: none;
        }

        // Partículas adicionales
        &::before {
            content: '⭐';
            position: absolute;
            top: -5px;
            left: -5px;
            font-size: 16px;
            animation: particleFloat 2.5s ease-out infinite;
            animation-delay: 0.5s;
            pointer-events: none;
        }
    }

    // TOAST CON EFECTO NEÓN
    &.toast-neon {
        --border-radius: 16px;
        position: relative;

        &::part(container) {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid var(--neon-color, #4CAF50);
            box-shadow:
                0 0 10px var(--neon-color, #4CAF50),
                0 0 20px var(--neon-color, #4CAF50),
                0 0 30px var(--neon-color, #4CAF50),
                inset 0 0 10px rgba(255, 255, 255, 0.1);
        }

        &::part(message) {
            color: white;
            text-shadow: 0 0 10px var(--neon-color, #4CAF50);
        }

        &::part(icon) {
            filter: drop-shadow(0 0 10px var(--neon-color, #4CAF50));
            animation: neonPulse 1.5s ease-in-out infinite;
        }
    }

    // TOAST CON GRADIENTE ANIMADO
    &.toast-gradient-animated {
        --border-radius: 18px;

        &::part(container) {
            background: linear-gradient(-45deg,
                    #4CAF50,
                    #66BB6A,
                    #81C784,
                    #A5D6A7);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
        }

        &::part(message) {
            color: white;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
    }

    // TOAST MINIMALISTA MODERNO
    &.toast-minimal-modern {
        --border-radius: 12px;
        --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);

        &::part(container) {
            background: white;
            border-left: 4px solid var(--accent-color, #4CAF50);
        }

        &::part(message) {
            color: #333;
            font-weight: 500;
        }

        &::part(icon) {
            color: var(--accent-color, #4CAF50);
        }
    }
}

/* ================================================= */
/* ANIMACIONES PREMIUM PARA TOASTS */
/* ================================================= */

@keyframes toastIconFloat {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-4px);
    }
}

@keyframes shimmerMove {

    0%,
    100% {
        transform: translateX(-100%);
    }

    50% {
        transform: translateX(100%);
    }
}

@keyframes successPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 0 10px rgba(76, 175, 80, 0.8));
    }

    50% {
        transform: scale(1.1);
        filter: drop-shadow(0 0 20px rgba(76, 175, 80, 1));
    }
}

@keyframes warningPulse {

    0%,
    100% {
        transform: scale(1) rotate(0deg);
    }

    25% {
        transform: scale(1.1) rotate(-5deg);
    }

    75% {
        transform: scale(1.1) rotate(5deg);
    }
}

@keyframes dangerShake {

    0%,
    100% {
        transform: translateX(0);
    }

    10%,
    30%,
    50%,
    70%,
    90% {
        transform: translateX(-5px);
    }

    20%,
    40%,
    60%,
    80% {
        transform: translateX(5px);
    }
}

@keyframes dangerIntensePulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 0 8px rgba(244, 67, 54, 0.8));
    }

    50% {
        transform: scale(1.2);
        filter: drop-shadow(0 0 16px rgba(244, 67, 54, 1));
    }
}

@keyframes infoBounce {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-3px);
    }
}

@keyframes particleFloat {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }

    100% {
        transform: translateY(-30px) rotate(180deg);
        opacity: 0;
    }
}

@keyframes neonPulse {

    0%,
    100% {
        filter: drop-shadow(0 0 10px var(--neon-color, #4CAF50));
    }

    50% {
        filter: drop-shadow(0 0 20px var(--neon-color, #4CAF50));
    }
}

@keyframes borderRotate {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

/* ================================================= */
/* MODO OSCURO PARA TOASTS PREMIUM */
/* ================================================= */



/* ================================================= */
/* RESPONSIVE PARA TOASTS PREMIUM */
/* ================================================= */

@media (max-width: 768px) {
    ion-toast {

        &.toast-premium,
        &.toast-success-enhanced,
        &.toast-warning-enhanced,
        &.toast-danger-enhanced,
        &.toast-info-enhanced {
            --start: 8px;
            --end: 8px;
        }

        &.toast-with-particles {

            &::after,
            &::before {
                display: none; // Ocultar partículas en móvil para mejor performance
            }
        }
    }
}

/* ================================================= */
/* ACCESIBILIDAD - RESPETO A PREFERENCIAS DE MOVIMIENTO */
/* ================================================= */

@media (prefers-reduced-motion: reduce) {
    ion-toast {

        &.toast-premium,
        &.toast-success-enhanced,
        &.toast-warning-enhanced,
        &.toast-danger-enhanced,
        &.toast-info-enhanced,
        &.toast-gradient-animated,
        &.toast-neon {
            &::part(icon) {
                animation: none !important;
            }

            &::before,
            &::after {
                animation: none !important;
            }
        }

        &.toast-with-particles {

            &::after,
            &::before {
                display: none;
            }
        }
    }
}